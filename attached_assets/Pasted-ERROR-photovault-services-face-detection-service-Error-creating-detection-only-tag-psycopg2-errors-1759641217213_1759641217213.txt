ERROR:photovault.services.face_detection_service:Error creating detection-only tag: (psycopg2.errors.NotNullViolation) null value in column "person_id" of relation "photo_people" violates not-null constraint
DETAIL:  Failing row contains (4, 4, null, 2025-10-05 05:06:26.151978, 0.6, 446, 191, 52, 52, f, f, null).
[SQL: INSERT INTO photo_people (photo_id, person_id, created_at, confidence, face_box_x, face_box_y, face_box_width, face_box_height, manually_tagged, verified, notes) VALUES (%(photo_id)s, %(person_id)s, %(created_at)s, %(confidence)s, %(face_box_x)s, %(face_box_y)s, %(face_box_width)s, %(face_box_height)s, %(manually_tagged)s, %(verified)s, %(notes)s) RETURNING photo_people.id]
[parameters: {'photo_id': 4, 'person_id': None, 'created_at': datetime.datetime(2025, 10, 5, 5, 6, 26, 151978), 'confidence': 0.6, 'face_box_x': 446, 'face_box_y': 191, 'face_box_width': 52, 'face_box_height': 52, 'manually_tagged': False, 'verified': False, 'notes': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-05 05:06:26,158 INFO: Face processing complete for photo 4: 1 faces, 0 recognized, 0 tagged [in /app/photovault/services/face_detection_service.py:241]
[2025-10-05 05:06:26,158] INFO in face_detection_service: Face processing complete for photo 4: 1 faces, 0 recognized, 0 tagged
INFO:photovault.services.face_detection_service:Face processing complete for photo 4: 1 faces, 0 recognized, 0 tagged
[2025-10-05 05:06:26,158] INFO in upload: Face processing completed for tringgus_sarawak_borneo_malaysia_bridge_suspensionbridge_film.jpg: 1 faces detected, 0 recognized, 0 auto-tagged
INFO:photovault.routes.upload:Face processing completed for tringgus_sarawak_borneo_malaysia_bridge_suspensionbridge_film.jpg: 1 faces detected, 0 recognized, 0 auto-tagged
2025-10-05 05:06:26,158 INFO: Face processing completed for tringgus_sarawak_borneo_malaysia_bridge_suspensionbridge_film.jpg: 1 faces detected, 0 recognized, 0 auto-tagged [in /app/photovault/routes/upload.py:163]
[2025-10-05 05:06:26,160] INFO in upload: Upload successful: 1 files processed
2025-10-05 05:06:26,160 INFO: Upload successful: 1 files processed [in /app/photovault/routes/upload.py:215]
INFO:photovault.routes.upload:Upload successful: 1 files processed
